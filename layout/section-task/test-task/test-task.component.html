<nz-layout style="width: 100%;height:100%;">
  <nz-header class="section-header border">
    <div class="package-name">
      <span class="section-header-title">{{ data.taskType === '4' ? data.title : data?.taskName }}</span>
    </div>

    <div class="padding-right">
      <button nz-button nzType="link" class="gray-text" [nzSize]="'small'" *ngIf="data.downloadType === '2'"
              (click)="download()">
        <i nz-icon nzType="download" nzTheme="outline"></i>
        下载到本地
      </button>
    </div>
  </nz-header>

  <div class="wrapper">
    <div class="test-box">
      <div class="test-title">
        <h3>考试</h3>
        <h5>{{data.taskFinish == '0' ? '进行中' : data.taskFinish == '1' ? '已结束' : ''}}</h5>
      </div>
      <div class="test-info">
        <ul>
          <li><span>考试类型</span><span>{{getName()}}</span></li>
          <li><span>完成情况</span><span [ngClass]="{'red':true}">未完成</span></li>
          <li><span>结束时间</span><span></span></li>
        </ul>
        <div class="test-operation">
          <div class="no-end" *ngIf="((answerTimes >= (data.taskTimes || 0)) || answerTimes === 0)">
            <p>
              <button nz-button
                      (click)="gotoTest()">前往考试
              </button>
              <span>剩余次数：{{answerTimes == 0 ? '不限次数' : (data.taskTimes || 0) + '/' + answerTimes}}</span>
            </p>
          </div>
          <div class="end" *ngIf="!((answerTimes >= (data.taskTimes || 0)) || answerTimes === 0)">
            <button nz-button>前往考试</button>
            <span>剩余次数：{{answerTimes === 0 ? '不限次数' : (data.taskTimes || 0) + '/' + answerTimes}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</nz-layout>

