<nz-spin [nzSpinning]="editLessonLoading"
         [nzDelay]="0">
<form nz-form [formGroup]="courseForm">
  <nz-form-item>
    <nz-form-label [nzSpan]="5" nzRequired>课次名称</nz-form-label>
    <nz-form-control [nzSpan]="18" nzHasFeedback [nzErrorTip]="nameTpl">
      <input nz-input type="text" formControlName="name" placeholder="请输入" (keyup.enter)="save()"/>
    </nz-form-control>
    <span style="margin-left: 10px;margin-top: 5px;display: inline-block;"
          [style.color]='courseForm.controls.name.hasError("maxlength")?"red":"inherit"'>
          {{courseForm.value.name.length}}/25</span>
    <ng-template #nameTpl let-control>
      <div *ngIf="control.hasError('required')">课次名称不能为空
      </div>
      <div *ngIf="control.hasError('maxlength')">课次名称不能超过25个字符</div>
    </ng-template>
  </nz-form-item>
</form>
<div *nzModalFooter>
  <button nz-button (click)="cancel()">取消</button>
  <button nz-button nzType="primary" [nzLoading]="editLessonLoading" (click)="save()">确定</button>
</div>
</nz-spin>
