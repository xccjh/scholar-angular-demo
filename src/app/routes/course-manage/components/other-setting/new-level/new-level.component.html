<nz-spin [nzSpinning]="newLevelLoading"
         [nzDelay]="0">
  <form nz-form [formGroup]="newLevelForm">
    <nz-form-item style='width:50%;float: left;'>
      <nz-form-label [nzSpan]="5" nzRequired>选择试卷</nz-form-label>
      <nz-form-control [nzSpan]="18" nzHasFeedback nzErrorTip="模块名称不能为空">
        <nz-select formControlName="newLevel" style='flex:1' (ngModelChange)='getPapers(true)'
                   [nzShowSearch]='true'>
          <nz-option [nzValue]="item.id" [nzLabel]="item.name" *ngFor='let item of moduleArr;'></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item style='width:50%;float: left;'>
      <nz-form-control [nzSpan]="18" nzHasFeedback nzErrorTip="试卷名称不能为空">
        <nz-select formControlName="testPaperName" style='flex:1' [nzShowSearch]='true'
                   (ngModelChange)='testPaperNameChange($event)'>
          <nz-option [nzValue]="item.examId" [nzLabel]="item.examName"
                     *ngFor='let item of paperArr;'></nz-option>
          <!--          [nzDisabled]='disableIf(item)'-->
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item style='width:50%'>
      <nz-form-label [nzSpan]="5" nzRequired>达标条件</nz-form-label>
      <nz-form-control [nzSpan]="18" nzHasFeedback nzErrorTip="达标条件不能为空">
        <nz-input-number nzPlaceHolder="请输入分数值" [nzMin]="0" [nzMax]="totalTestPaperScore"
                         formControlName="complianceConditions"
                         [nzStep]="1"
                         style="min-width:140px;"
        ></nz-input-number>
        <span style='margin-left:20px;'>试卷总分：<span style='color:#8fc9fe'>{{totalTestPaperScore}}分</span></span>
      </nz-form-control>
    </nz-form-item>
  </form>
  <div *nzModalFooter>
    <button nz-button (click)="cancel()">取消</button>
    <button nz-button nzType="primary" (click)="save()" [nzLoading]="newLevelLoading">确定</button>
  </div>
</nz-spin>
